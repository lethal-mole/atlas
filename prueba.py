opt={accumulation_steps=1, alpha=1.0, beta2=0.999, checkpoint_dir='./atlas_data/experiments/', clip=1.0, closed_book=False, compute_crossattention_stats=False, decoder_format=None, decoder_prompt_format=None, device=device(type='cuda'), dont_write_passages=False, dropout=0.1, encoder_format='{query} title: {title} context: {text}', epsilon=1e-06, eval_data=['./input.json'], eval_freq=500, faiss_code_size=None, faiss_index_type='flat', filtering_overretrieve_ratio=2, freeze_retriever_steps=-1, generation_length_penalty=1.0, generation_max_length=200, generation_min_length=None, generation_num_beams=1, global_rank=0, gold_score_mode='ppmean', index_mode='flat', is_distributed=False, is_main=True, is_slurm_job=False, load_index_path=None, local_rank=0, log_freq=100, lr=0.0001, lr_retriever=1e-05, main_port=15482, max_lm_context_ratio=0.5, max_passages=-1, min_lm_context_ratio=0.5, min_words_per_lm_instance=None, mlm_mean_noise_span_length=3, mlm_noise_density=0.15, model_path='./atlas_data/models/atlas_nq/large', multi_gpu=False, multi_node=False, multiple_choice_eval_permutations='single', multiple_choice_num_options=4, multiple_choice_train_permutations='single', n_context=40, n_gpu_per_node=1, n_nodes=1, n_to_rerank_with_retrieve_with_rerank=128, name='pruebaUse', node_id=0, passages=['./atlas_data/usePassage.jsonl'], per_gpu_batch_size=1, per_gpu_embedder_batch_size=512, precision='fp32', qa_prompt_format='question: {question} answer: <extra_id_0>', query_side_retriever_training=False, reader_model_type='google/t5-large-lm-adapt', refresh_index='-1', retrieve_only=False, retrieve_with_rerank=False, retriever_format='{title} {text}', retriever_model_path='facebook/contriever', retriever_n_context=40, save_freq=5000, save_index_n_shards=128, save_index_path=None, save_optimizer=False, scheduler='cosine', scheduler_steps=None, seed=0, shard_grads=False, shard_optim=False, shuffle=False, target_maxlength=None, task='qa', temperature_gold=0.01, temperature_score=0.01, text_maxlength=100, total_steps=1000, train_data=[], train_retriever=False, use_file_passages=True, use_gradient_checkpoint_reader=False, use_gradient_checkpoint_retriever=False, warmup_steps=1000, weight_decay=0.1, world_size=1, write_results=True}
#opt={accumulation_steps:1, alpha:1.0, beta2:0.999, checkpoint_dir:'./atlas_data/experiments/', clip:1.0, closed_book:False, compute_crossattention_stats:False, decoder_format:None, decoder_prompt_format:None, device:device(type:'cuda'), dont_write_passages:False, dropout:0.1, encoder_format:'{query} title: {title} context: {text}', epsilon:1e-06, eval_data:['./input.json'], eval_freq:500, faiss_code_size:None, faiss_index_type:'flat', filtering_overretrieve_ratio:2, freeze_retriever_steps:-1, generation_length_penalty:1.0, generation_max_length:200, generation_min_length:None, generation_num_beams:1, global_rank:0, gold_score_mode:'ppmean', index_mode:'flat', is_distributed:False, is_main:True, is_slurm_job:False, load_index_path:None, local_rank:0, log_freq:100, lr:0.0001, lr_retriever:1e-05, main_port:15482, max_lm_context_ratio:0.5, max_passages:-1, min_lm_context_ratio:0.5, min_words_per_lm_instance:None, mlm_mean_noise_span_length:3, mlm_noise_density:0.15, model_path:'./atlas_data/models/atlas_nq/large', multi_gpu:False, multi_node:False, multiple_choice_eval_permutations:'single', multiple_choice_num_options:4, multiple_choice_train_permutations:'single', n_context:40, n_gpu_per_node:1, n_nodes:1, n_to_rerank_with_retrieve_with_rerank:128, name:'pruebaUse', node_id:0, passages:['./atlas_data/usePassage.jsonl'], per_gpu_batch_size:1, per_gpu_embedder_batch_size:512, precision:'fp32', qa_prompt_format:'question: {question} answer: <extra_id_0>', query_side_retriever_training:False, reader_model_type:'google/t5-large-lm-adapt', refresh_index:'-1', retrieve_only:False, retrieve_with_rerank:False, retriever_format:'{title} {text}', retriever_model_path:'facebook/contriever', retriever_n_context:40, save_freq:5000, save_index_n_shards:128, save_index_path:None, save_optimizer:False, scheduler:'cosine', scheduler_steps:None, seed:0, shard_grads:False, shard_optim:False, shuffle:False, target_maxlength:None, task:'qa', temperature_gold:0.01, temperature_score:0.01, text_maxlength:100, total_steps:1000, train_data:[], train_retriever:False, use_file_passages:True, use_gradient_checkpoint_reader:False, use_gradient_checkpoint_retriever:False, warmup_steps:1000, weight_decay:0.1, world_size:1, write_results:True}
opt={write_results: "hola", no: "adios"}
print(opt.write_results)

